<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Math operations on geo Now that we have explained the concept of (cartesian) coordinate system (and how points&rsquo; and vectors&rsquo; coordinates relate to coordinate systems), we can look at some of the most common operations which can be performed on points and vectors."><title>{{title}}</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://benshurts.com//icon.png><link href=https://benshurts.com/styles.708c2658f93e3a9d323a1f9fded8f4b2.min.css rel=stylesheet><link href=https://benshurts.com/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://benshurts.com/js/darkmode.df27f8644ed9c6ebf6dd5e0c7265fc1e.min.js></script>
<script src=https://benshurts.com/js/util.9825137f5e7825e8553c68ce39ac9e44.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://benshurts.com/js/popover.9b72b70bd35617d0635e9d15463662b2.min.js></script>
<script src=https://benshurts.com/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://benshurts.com/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://benshurts.com/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://benshurts.com/",fetchData=Promise.all([fetch("https://benshurts.com/indices/linkIndex.b2d239c54435af45d594f0e0efe54ae4.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://benshurts.com/indices/contentIndex.fec0b3317fdf8f018650068b6d922fd3.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://benshurts.com",!0,!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://benshurts.com",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'’':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/benshurts.com\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://benshurts.com/js/full-text-search.24827f874defbbc6d529926cbfcfb493.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://benshurts.com/>Knowledge Garden</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>{{title}}</h1><p class=meta>Last updated
Oct 27, 2022
<a href=https://github.com/benshurts/Knowledge-Garden/notes/3D-Modeling/blender/Sources/Scratchpixel/Math%20operations%20on%20points%20and%20vectors%20-%20scatchpixel.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details open><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#vector-class-in-c>Vector Class in C++</a></li><li><a href=#vector-length>Vector Length</a></li><li><a href=#normalizing-a-vector>Normalizing a Vector</a></li><li><a href=#dot-product>Dot Product</a></li><li><a href=#cross-product>Cross Product</a></li><li><a href=#vectorpoint-addition-and-subtraction>Vector/Point Addition and Subtraction</a></li></ol></nav></details></aside><a href=#math-operations-on-geo><h1 id=math-operations-on-geo><span class=hanchor arialabel=Anchor># </span>Math operations on geo</h1></a><p>Now that we have explained the concept of (cartesian) coordinate system (and how points&rsquo; and vectors&rsquo; coordinates relate to coordinate systems), we can look at some of the most common operations which can be performed on points and vectors. This should cover the most common functions you will find in any 3D application and renderer.</p><a href=#vector-class-in-c><h2 id=vector-class-in-c><span class=hanchor arialabel=Anchor># </span>Vector Class in C++</h2></a><p>First let&rsquo;s define our C++ Vector class:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>class</span><span class=err>** </span><span class=nc>Vec3</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>public</span><span class=o>**:</span>  
</span></span><span class=line><span class=cl>	<span class=c1>// 3 most basic ways of initializing a vector  
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>Vec3</span><span class=p>()</span> <span class=o>:</span> <span class=n>x</span><span class=p>(</span><span class=n>T</span><span class=p>(</span><span class=mi>0</span><span class=p>)),</span> <span class=n>y</span><span class=p>(</span><span class=n>T</span><span class=p>(</span><span class=mi>0</span><span class=p>)),</span> <span class=n>z</span><span class=p>(</span><span class=n>T</span><span class=p>(</span><span class=mi>0</span><span class=p>))</span> <span class=p>{}</span>  
</span></span><span class=line><span class=cl>	<span class=n>Vec3</span><span class=p>(</span><span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>T</span> <span class=o>&amp;</span><span class=n>xx</span><span class=p>)</span> <span class=o>:</span> <span class=n>x</span><span class=p>(</span><span class=n>xx</span><span class=p>),</span> <span class=n>y</span><span class=p>(</span><span class=n>xx</span><span class=p>),</span> <span class=n>z</span><span class=p>(</span><span class=n>xx</span><span class=p>)</span> <span class=p>{}</span>  
</span></span><span class=line><span class=cl>	<span class=n>Vec3</span><span class=p>(</span><span class=n>T</span> <span class=n>xx</span><span class=p>,</span> <span class=n>T</span> <span class=n>yy</span><span class=p>,</span> <span class=n>T</span> <span class=n>zz</span><span class=p>)</span> <span class=o>:</span> <span class=n>x</span><span class=p>(</span><span class=n>xx</span><span class=p>),</span> <span class=n>y</span><span class=p>(</span><span class=n>yy</span><span class=p>),</span> <span class=n>z</span><span class=p>(</span><span class=n>zz</span><span class=p>)</span> <span class=p>{}</span>  
</span></span><span class=line><span class=cl>	<span class=n>T</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=p>};</span>  
</span></span></code></pre></td></tr></table></div></div><a href=#vector-length><h2 id=vector-length><span class=hanchor arialabel=Anchor># </span>Vector Length</h2></a><p>As we mentioned in the previous paragraph, a vector can be seen as an arrow starting from one point and finishing to another. The vector itself indicates not only the direction of point B from A but also can be used to find out the distance between A and B. This is given by the length of a vector which can easily be computed with the following formula:</p><p>||V||=V.x∗V.x+V.y∗V.y+V.z∗V.z−−−−−−−−−−−−−−−−−−−−−−−−−−−−√</p><p>In mathematics, the double bar (||V||) notation indicates the lentgh of a vector. The <strong>vector&rsquo;s length</strong> is sometimes also called <strong>norm</strong> or <strong>magnitude</strong> (figure 1).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>class</span><span class=err>** </span><span class=nc>Vec3</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>public</span><span class=o>**:</span>  
</span></span><span class=line><span class=cl>	<span class=p>...</span>  
</span></span><span class=line><span class=cl>	<span class=c1>// length can be a method from the class...  
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>T</span> <span class=n>length</span><span class=p>()</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=nf>sqrt</span><span class=p>(</span><span class=n>x</span> <span class=o>*</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span> <span class=o>*</span> <span class=n>y</span> <span class=o>+</span> <span class=n>z</span> <span class=o>*</span> <span class=n>z</span><span class=p>);</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span><span class=line><span class=cl><span class=p>...</span>  
</span></span><span class=line><span class=cl><span class=p>};</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1>// ... or you can also compute the length in a function which is not part of the class  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl><span class=n>T</span> <span class=n>length</span><span class=p>(</span><span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>v</span><span class=p>)</span>  
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=nf>sqrt</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>x</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>z</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>z</span><span class=p>);</span> <span class=p>}</span>  
</span></span></code></pre></td></tr></table></div></div><p>Note that the axes of the three-dimensional cartesian coordinate systems are unit vectors.</p><a href=#normalizing-a-vector><h2 id=normalizing-a-vector><span class=hanchor arialabel=Anchor># </span>Normalizing a Vector</h2></a><p>We sometimes use normalise with an &rsquo;s&rsquo; and normalize with a &lsquo;z&rsquo;. We have mixed cultural influences which is why we sometimes use one or the other, but in programming though the convention is often to use American spelling in the name of methods or functions, which is why it comes to writing code, we will always use normalize.</p><p>A normalised vector (we will use normalise with a z here which is the standard in the industry), is a vector whose length is 1 (vector B in figure 1). Such a vector is also called a <strong>unit vector</strong> (it is a vector which has unit length). Normalizing a vector is very simple. We first compute the length of the vector and divide each one of the vectors coordinates with this length. The mathematical notation is:</p><p>V^=V||V||</p><p><img src=https://www.scratchapixel.com/images/upload/geometry/normalize.png? width=auto alt></p><p>Figure 1: the magnitude or length of vector A and B is denoted by the double bar notation. A normalized vector is a vector whose length is 1 (in this example vector B).</p><p>Note that the C++ implementation can be optimised. First we only normalize the vector if its length is greater than 0 (as dividing by 0 is forbidden). We then compute a temporary variable which is the invert of the vector length, and multiply each coordinate of the vector with this value rather than dividing them with the vector&rsquo;s length. As you may know, multiplications in a program are less costly than divisions. This optimisation can be important, as normalizing of vector is an extremely common operations in a renderer which can be applied to thousands, hundreds of thousands, millions of vectors (when not more). At this level, any possible optimisation will have an impact on the final render time. Note though that some compilers will manage that for you under the hood. But you can always make that optimisation explicit in your code.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>class</span><span class=err>** </span><span class=nc>Vec3</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>public</span><span class=o>**:</span>  
</span></span><span class=line><span class=cl>	<span class=p>...</span>  
</span></span><span class=line><span class=cl>	<span class=c1>// as a method of the class Vec3  
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;&amp;</span> <span class=n>normalize</span><span class=p>()</span>  
</span></span><span class=line><span class=cl>	<span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=n>T</span> <span class=n>len</span> <span class=o>=</span> <span class=n>length</span><span class=p>();</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>if</span><span class=o>**</span> <span class=p>(</span><span class=n>len</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=n>T</span> <span class=n>invLen</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>/</span> <span class=n>len</span><span class=p>;</span>  
</span></span><span class=line><span class=cl>	<span class=n>x</span> <span class=o>*=</span> <span class=n>invLen</span><span class=p>,</span> <span class=n>y</span> <span class=o>*=</span> <span class=n>invLen</span><span class=p>,</span> <span class=n>z</span> <span class=o>*=</span> <span class=n>invLen</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span><span class=line><span class=cl><span class=p>...</span>  
</span></span><span class=line><span class=cl><span class=p>};</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// or as a utility function  
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=n>normalize</span><span class=p>(</span><span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>v</span><span class=p>)</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=n>T</span> <span class=n>len2</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>x</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>z</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>z</span><span class=p>;</span>  
</span></span><span class=line><span class=cl>	<span class=c1>// avoid division by 0  
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=o>**</span><span class=k>if</span><span class=o>**</span> <span class=p>(</span><span class=n>len2</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=n>T</span> <span class=n>invLen</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>/</span> <span class=n>sqrt</span><span class=p>(</span><span class=n>len2</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>	<span class=n>x</span> <span class=o>*=</span> <span class=n>invLen</span><span class=p>,</span> <span class=n>y</span> <span class=o>*=</span> <span class=n>invLen</span><span class=p>,</span> <span class=n>z</span> <span class=o>*=</span> <span class=n>invLen</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span></code></pre></td></tr></table></div></div><p>In mathematics, you will also find the term <strong>norm</strong> to define a function that assigns a length or size (or distance) to a vector. The function we have just described is called the <strong>Euclidean norm</strong>.</p><a href=#dot-product><h2 id=dot-product><span class=hanchor arialabel=Anchor># </span>Dot Product</h2></a><p><img src=https://www.scratchapixel.com/images/upload/geometry/dotproduct.png? width=auto alt></p><p>Figure 2: the dot product of two vectors can be seen as the projection of A over B. if the two vectors A and B have unit length then the result of the dot product is the cosine of the angle subtended by the two vectors.</p><p>The dot product or scalar product requires two vectors A and B and can be seen as the projection of one vector onto the other. The result of the dot product is a real number (a float or double in programming). A dot product between two vectors is denoted with the dot sign: A⋅B</p><p>(it can also be sometimes written as &lt;A,B></p><p>). The dot product consists of multiplying each element of the A vector with its counterpart from vector B and taking the sum of each product. In the case of 3D vectors (length of the vector is three, they have three coefficients or elements which are x, y and z), it consists of the following operation:</p><p>A⋅B=A.x∗B.x+A.y∗B.y+A.z∗B.z</p><p>Note that this is quite similar to the way we compute the length (distance this time) of a vector. If we take the square root (A⋅B−−−−√</p><p>) of the dot product between two vectors that are equal (A=B), then what we get is the length of the vector. We can write:</p><p>||V||2=V⋅V</p><p>It can be used in the normalize method:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>class</span><span class=err>** </span><span class=nc>Vec3</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>public</span><span class=o>**:</span>  
</span></span><span class=line><span class=cl>	<span class=p>...</span>  
</span></span><span class=line><span class=cl>	<span class=n>T</span> <span class=n>dot</span><span class=p>(</span><span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>v</span><span class=p>)</span> <span class=o>**</span><span class=k>const</span><span class=o>**</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=n>x</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>x</span> <span class=o>+</span> <span class=n>y</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span> <span class=o>+</span> <span class=n>z</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>z</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;&amp;</span> <span class=n>normalize</span><span class=p>()</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=n>T</span> <span class=n>len2</span> <span class=o>=</span> <span class=n>dot</span><span class=p>(</span><span class=o>*</span><span class=k>this</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>if</span><span class=o>**</span> <span class=p>(</span><span class=n>len2</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=n>T</span> <span class=n>invLen</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>/</span> <span class=n>sqrt</span><span class=p>(</span><span class=n>len2</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>	<span class=n>x</span> <span class=o>*=</span> <span class=n>invLen</span><span class=p>,</span> <span class=n>y</span> <span class=o>*=</span> <span class=n>invLen</span><span class=p>,</span> <span class=n>z</span> <span class=o>*=</span> <span class=n>invLen</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span><span class=line><span class=cl><span class=p>...</span>  
</span></span><span class=line><span class=cl><span class=p>};</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>	<span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl>	<span class=n>T</span> <span class=n>dot</span><span class=p>(</span><span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>,</span> <span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>b</span><span class=p>)</span>  
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=n>a</span><span class=p>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>b</span><span class=p>.</span><span class=n>x</span> <span class=o>+</span> <span class=n>a</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>b</span><span class=p>.</span><span class=n>y</span> <span class=o>+</span> <span class=n>a</span><span class=p>.</span><span class=n>z</span> <span class=o>*</span> <span class=n>b</span><span class=p>.</span><span class=n>z</span><span class=p>;</span> <span class=p>}</span>  
</span></span></code></pre></td></tr></table></div></div><p>The dot product between two vectors is an extremely important and common operation in any 3D application because the result of this operation relates to the <strong>cosine of the angle</strong> between the two vectors. Figure 2 illustrates the geometric interpretation of the dot product. In this example vector A is projected in the direction of vector B.</p><ul><li>if B is a unit vector then the product A⋅B</li></ul><p>gives ||A||cos(θ)- , the magnitude of the projection of A in the direction of B, with a minus sign if the direction is opposite. This is called the scalar projection of A onto B.</p><ul><li>when neither A nor B is a unit vector, we can write that A⋅B/||B||</li></ul><p>since B as a unit vector is B/||B||- .</p><ul><li>when the two vectors are normalised then taking the arc cosine of the dot product gives you the angle θ</li></ul><p>between the two vectors: θ=cos−1(A⋅B/||A||||B||) or θ=cos−1(A^⋅B^) (in mathematics, cos−1 is the inverse of the cos</p><ul><li>function. In computer programming languages, this function is generally denoted acos()).</li></ul><p><img src=https://www.scratchapixel.com/images/upload/geometry/dotproduct1.png? width=auto alt></p><p>The dot product is a very important operation in 3D. It can be used for many things. As a test of orthogonality. When two vectors are perpendicular to each other (A.B), the result of the dot product between these two vectors is 0. When the two vectors are pointing in opposite directions (A.C), the dot product returns -1. When they are pointing in the exact same direction (A.D), it returns 1. It is also used intensively to find out the angle between two vectors or compute the angle between a vector and the axis of a coordinate system (which is useful when the coordinates of a vector are converted to spherical coordinates. This explained in the chapter on
<a href=http://localhost/lessons/mathematics-physics-for-computer-graphics/geometry/spherical-coordinates-and-trigonometric-functions rel=noopener>trigonometric functions</a>).</p><p><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=78FWLXMM9YGPN" rel=noopener><img src=https://www.scratchapixel.com/images/design/donate.png width=auto alt></a></p><a href=#cross-product><h2 id=cross-product><span class=hanchor arialabel=Anchor># </span>Cross Product</h2></a><p>The <strong>cross product</strong> is also an operation on two vectors, but to the difference of the dot product which returns a number, the cross product returns a vector. The particularity of this operation is that the vector resulting from the cross product is perpendicular to the other two (this is shown in figure 3). The cross product operation is written using the following syntax:</p><p>C=A×B</p><p><img src=https://www.scratchapixel.com/images/upload/geometry/crossproduct.png? width=auto alt></p><p>Figure 3: the cross product of two vectors A and B gives a vector C perpendicular to the plane defined by A and B. When A and B are orhotogonal to each other (and have unit length), A, B, C form a Cartesian coordinate system.</p><p>To compute the cross product we will need to implement the following formula:</p><p>CX=AY∗BZ−AZ∗BYCY=AZ∗BX−AX∗BZCZ=AX∗BY−AY∗BX</p><p>The result of the cross product is another vector which is orthogonal to the other two. A cross product between two vectors is denoted with the cross sign: A×B</p><p>. The two vectors A and B define a plane and the resulting vector C is perpendicular to that plane. Vectors A and B don&rsquo;t have to be perpendicular to each other but when they are the resulting A B and C vectors form a cartesian coordinate system (assuming the vectors have unit length). This is particularly useful to create coordinate systems which we will explain in the chapter
<a href=http://localhost/lessons/mathematics-physics-for-computer-graphics/geometry/creating-an-orientation-matrix-or-local-coordinate-system rel=noopener>Creating a Local Coordinate System</a>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>class</span><span class=err>** </span><span class=nc>Vec3</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>public</span><span class=o>**:</span>  
</span></span><span class=line><span class=cl>	<span class=p>...</span>  
</span></span><span class=line><span class=cl>	<span class=c1>// as a method of the class...  
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=n>cross</span><span class=p>(</span><span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>v</span><span class=p>)</span> <span class=o>**</span><span class=k>const</span><span class=o>**</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>(</span>  
</span></span><span class=line><span class=cl>	<span class=n>y</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>z</span> <span class=o>-</span> <span class=n>z</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span><span class=p>,</span>  
</span></span><span class=line><span class=cl>	<span class=n>z</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>x</span> <span class=o>-</span> <span class=n>x</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>z</span><span class=p>,</span>  
</span></span><span class=line><span class=cl>	<span class=n>x</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span> <span class=o>-</span> <span class=n>y</span> <span class=o>*</span> <span class=n>v</span><span class=p>.</span><span class=n>x</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>	<span class=p>}</span>  
</span></span><span class=line><span class=cl>	<span class=p>...</span>  
</span></span><span class=line><span class=cl><span class=p>};</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1>// or as an utility function  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl><span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=n>cross</span><span class=p>(</span><span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>,</span> <span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>b</span><span class=p>)</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>(</span>  
</span></span><span class=line><span class=cl>	<span class=n>a</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>b</span><span class=p>.</span><span class=n>z</span> <span class=o>-</span> <span class=n>a</span><span class=p>.</span><span class=n>z</span> <span class=o>*</span> <span class=n>b</span><span class=p>.</span><span class=n>y</span><span class=p>,</span>  
</span></span><span class=line><span class=cl>	<span class=n>a</span><span class=p>.</span><span class=n>z</span> <span class=o>*</span> <span class=n>b</span><span class=p>.</span><span class=n>x</span> <span class=o>-</span> <span class=n>a</span><span class=p>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>b</span><span class=p>.</span><span class=n>z</span><span class=p>,</span>  
</span></span><span class=line><span class=cl>	<span class=n>a</span><span class=p>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>b</span><span class=p>.</span><span class=n>y</span> <span class=o>-</span> <span class=n>a</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>b</span><span class=p>.</span><span class=n>x</span><span class=p>);</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span></code></pre></td></tr></table></div></div><p>If you need a mnemonic way of remembering this formula, we like to use the technique that consists of asking ourselves the question &ldquo;why z?&rdquo;, y and z being the coordinates of vector A and B used to compute the x coordinate of the resulting vector C (because indeed &ldquo;why z?&rdquo; - &lsquo;why&rsquo; here of course stands for the letter &lsquo;y&rsquo;). More seriously, logic can easily be used to reconstruct this formula. Since you know that the result of the cross product is a vector perpendicular to the other two, you know that if A and B are the x- and y-axis of a cartesian coordinate system, the cross product of A and B should give you the z-axis that is (0,0,1). The only way you can get this result is if Cz = 1 which is only true when Cz = A.x * B.y - A.y * B.x. From there, you can deduce the other coordinates which are used to compute Cx and Cy. Finally the easiest method might just be to write the cross production operation in the following form:</p><p>⎛⎝⎜axayaz⎞⎠⎟×⎛⎝⎜bxbybz⎞⎠⎟=⎛⎝⎜aybz−azbyazbx−axbzaxby−aybx⎞⎠⎟</p><p>Presenting the vector in a column vector form, shows that for to find any coordinate of the resulting vector (for example x) we need to use the other two (y and z if x is the coordinate we wish to compute) from vector A and B.</p><p>It is very important to note that the order of the vectors involved in the cross product has an effect on the resulting vector C. If we take the previous example (taking the cross product between the x- and they y-axis of a cartesian coordinate system), you can see that A x B doesn&rsquo;t give you the same result than B x A:</p><p>AxB = (1,0,0)x(0,1,0) = (0,0,1),</p><p>whereas</p><p>BxA=(0,1,0)x(1,0,0)=(0,0,-1).</p><p><img src=https://www.scratchapixel.com/images/upload/geometry/normalleftrighthand.png? width=auto alt></p><p>Figure 4: using your left or right hand to determine the orientation of vector C (the normal for instance) when the index fingers points along A and the middle finger points along B.</p><p><img src=https://www.scratchapixel.com/images/upload/geometry/normalleftrighthand2.png? width=auto alt></p><p>Figure 5: using you right hand, you can align your index finger along either A or B and the middle finger against the other vector (B or A) to find out if C (the normal for instance) point upwards or inwards in the right-hand coordinate system.</p><p>We say that the cross product is <strong>anticommutative</strong> (swapping the position of any two arguments negates the result): If AxB=C then BxA=-C. Remember from the previous chapter that when two vectors are used to define the first two basis of a coordinate system, the third vector can point on either side of the plane. We also described a technique in which you use your hands to differentiate the two systems. When you compute a cross product between vectors you will always get the same unique solution. For instance if A = (1, 0, 0) and B = (0, 1, 0), C can only be (0, 0, 1). So you might ask why should I care about the handedness of my coordinate system then? Because if the result of the computation is always the same, the way you will draw the resulting vector however, depends on the handedness of your coordinate system. You can use the same mnemonic technique to find out in which direction the vector should point to depending on the convention you are using. In the case of a right-hand coordinate system, if you align the index finger along the A vector (for example the tangent at a point on the surface) and the middle finger along the B vector (the bitangent if you try to figure out the orientation of a normal), the thumb will point in the direction of the C vector (the normal). Note that if you use the same technique but with the left hand on the same vectors A and B, your the thumb will point in the opposite direction. Remember though, that this only a <strong>representation</strong> issue.</p><p>In mathematics, the result of a cross product is called a <strong>pseudo vector</strong>. The order of the vector in the cross product operation is important when <strong>surface normals</strong> are computed from the tangent and bitangent at the point where the normal is computed. Depending on this order, the resulting normal can either be pointing towards the interior of the surface (<strong>inward-pointing normal</strong>) or away from it (<strong>outward-pointing normal</strong>). You can find more information on this topic in the chapter
<a href=https://www.scratchapixel.com/lessons/mathematics-physics-for-computer-graphics/geometry/math-operations-on-points-and-vectors# rel=noopener>Creating an Orientation Matrix</a>.</p><a href=#vectorpoint-addition-and-subtraction><h2 id=vectorpoint-addition-and-subtraction><span class=hanchor arialabel=Anchor># </span>Vector/Point Addition and Subtraction</h2></a><p>Other mathematical operations on points are usually straightforward. A multiplication of a vector by a scalar or another vector gives a point. We can add two vectors to each other, subtract them, divide them, etc. Note that some 3D APIs makes the distinction between points, normals and vectors. Technically they are subtle differences between each of them which can justify to create three separate C++ classes. For example: normals are not transformed like points and vectors (we will learn about that in this lesson), subtracting two points technically gives a vector, adding a vector to another vector or a point gives a point, etc. However, from practice, we found that writing these three C++ distinct classes to represent each type is not worth some of the complexity that comes with it. Similarly to OpenEXR which has become an industry standard, we chose to represent all types with a single templated class called Vec3. We therefore make no distinction between normal, vector and points (from a coding point of view). We will just need to manage the (rare) exceptions when variables representing different types (normal, vector, points) but declared under the generic type Vec3, should be processed differently. Here is some C++ code to represent the most common operations (you will find the complete source code at the end of this lesson):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>template</span><span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>  
</span></span><span class=line><span class=cl><span class=o>**</span><span class=k>class</span><span class=err>** </span><span class=nc>Vec3</span>  
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>	<span class=o>**</span><span class=k>public</span><span class=o>**:</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=k>operator</span> <span class=o>+</span> <span class=p>(</span><span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>v</span><span class=p>)</span> <span class=o>**</span><span class=k>const</span><span class=o>**</span>  
</span></span><span class=line><span class=cl>	<span class=p>{</span> <span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span><span class=p>,</span> <span class=n>z</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>z</span><span class=p>);</span> <span class=p>}</span>  
</span></span><span class=line><span class=cl>	<span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=k>operator</span> <span class=o>-</span> <span class=p>(</span><span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>v</span><span class=p>)</span> <span class=o>**</span><span class=k>const</span><span class=o>**</span>  
</span></span><span class=line><span class=cl>	<span class=p>{</span> <span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>(</span><span class=n>x</span> <span class=o>-</span> <span class=n>v</span><span class=p>.</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>-</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span><span class=p>,</span> <span class=n>z</span> <span class=o>-</span> <span class=n>v</span><span class=p>.</span><span class=n>z</span><span class=p>);</span> <span class=p>}</span>  
</span></span><span class=line><span class=cl>	<span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=k>operator</span> <span class=o>*</span> <span class=p>(</span><span class=o>**</span><span class=k>const</span><span class=o>**</span> <span class=n>T</span> <span class=o>&amp;</span><span class=n>r</span><span class=p>)</span> <span class=o>**</span><span class=k>const</span><span class=o>**</span>  
</span></span><span class=line><span class=cl>	<span class=p>{</span> <span class=o>**</span><span class=k>return</span><span class=o>**</span> <span class=n>Vec3</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>(</span><span class=n>x</span> <span class=o>*</span> <span class=n>r</span><span class=p>,</span> <span class=n>y</span> <span class=o>*</span> <span class=n>r</span><span class=p>,</span> <span class=n>z</span> <span class=o>*</span> <span class=n>r</span><span class=p>);</span> <span class=p>}</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>};</span>  
</span></span></code></pre></td></tr></table></div></div><p><a href=https://www.scratchapixel.com/lessons/mathematics-physics-for-computer-graphics/geometry/coordinate-systems rel=noopener>_arrow_back_Previous Chapter</a></p><p>Chapter 3 of 13</p><p><a href=https://www.scratchapixel.com/lessons/mathematics-physics-for-computer-graphics/geometry/matrices rel=noopener>Next Chapter</a></p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/notes/3D-Modeling/blender/Sources/Scratchpixel/Scratchpixel-Home/ data-ctx="notes/3D-Modeling/blender/Sources/Scratchpixel/Math operations on points and vectors - scatchpixel" data-src=/notes/3D-Modeling/blender/Sources/Scratchpixel/Scratchpixel-Home class=internal-link>{{title}}</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://benshurts.com/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Ben Shurts using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2022</p><ul><li><a href=https://benshurts.com/>Home</a></li><li><a href=https://twitter.com/artofbenshurts>Twitter</a></li><li><a href=https://github.com/benshurts>Github</a></li></ul></footer></div></div></body></html>